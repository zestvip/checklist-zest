<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Checklist de Mala ‚Äî Zest</title>

  <style>
    :root{
      --bg:#fafafa;
      --card:#ffffff;
      --text:#1f1f1f;
      --muted:#6b7280;
      --line:#e9e9ee;
      --pill:#f3f4f6;
      --shadow: 0 6px 18px rgba(0,0,0,.06);
      --radius: 16px;
    }

    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,Arial,sans-serif;
      line-height:1.5;
      padding:18px;
    }

    .wrap{ max-width: 560px; margin: 0 auto; }

    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    header{
      padding:18px 18px 12px 18px;
      border-bottom:1px solid var(--line);
    }

    .brand{
      display:flex;
      justify-content:center;
      align-items:center;
      gap:10px;
      margin-bottom:10px;
    }

    .brand img{
      height:34px;
      object-fit:contain;
    }

    h1{
      font-size: 18px;
      margin:0;
      letter-spacing:.2px;
      text-align:center;
    }

    .subtitle{
      text-align:center;
      margin:8px 0 0 0;
      color:var(--muted);
      font-size:13px;
    }

    .meta{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      margin-top:12px;
    }

    .pill{
      background:var(--pill);
      border:1px solid var(--line);
      border-radius:999px;
      padding:8px 10px;
      font-size:13px;
      color:var(--muted);
      display:flex;
      align-items:center;
      gap:8px;
      flex:1;
      min-width: 220px;
    }

    .pill input{
      width:100%;
      border:0;
      outline:none;
      background:transparent;
      font-size:13px;
      color:var(--text);
    }

    .actions{
      display:flex;
      gap:10px;
      padding: 12px 18px;
      border-bottom:1px solid var(--line);
      flex-wrap:wrap;
    }

    button{
      border:1px solid var(--line);
      background:#fff;
      padding:10px 12px;
      border-radius:12px;
      font-size:14px;
      cursor:pointer;
    }
    button:active{ transform: translateY(1px); }
    .ghost{ background: transparent; }

    details{
      border-bottom:1px solid var(--line);
      padding: 0 18px;
    }

    summary{
      list-style:none;
      cursor:pointer;
      padding: 14px 0;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      user-select:none;
    }
    summary::-webkit-details-marker{ display:none; }

    .secTitle{
      display:flex;
      gap:10px;
      align-items:center;
      font-weight:600;
      font-size:15px;
    }

    .count{
      font-size:12px;
      color:var(--muted);
      background:var(--pill);
      border:1px solid var(--line);
      padding:4px 8px;
      border-radius:999px;
      white-space:nowrap;
    }

    .items{
      padding: 0 0 14px 0;
      display:flex;
      flex-direction:column;
      gap:10px;
    }

    label{
      display:flex;
      gap:10px;
      align-items:flex-start;
      padding:10px 10px;
      border:1px solid var(--line);
      border-radius:14px;
      background:#fff;
    }

    input[type="checkbox"]{
      margin-top:3px;
      width:18px;
      height:18px;
      flex:0 0 auto;
    }

    .txt{
      display:flex;
      flex-direction:column;
      gap:2px;
    }

    .sub{
      font-size:12px;
      color:var(--muted);
    }

    /* ‚Äútaxar‚Äù/riscar quando marcado */
    label.checked{
      opacity:.7;
    }
    label.checked .txt{
      text-decoration: line-through;
    }

    .notesWrap{
      padding: 0 18px 18px 18px;
      border-bottom:1px solid var(--line);
    }

    .notesTitle{
      margin:18px 0 10px 0;
      font-weight:600;
      font-size:15px;
    }

    textarea{
      width:100%;
      min-height:120px;
      padding:12px;
      border:1px solid var(--line);
      border-radius:14px;
      font-size:14px;
      resize:vertical;
      outline:none;
    }

    footer{
      padding:14px 18px 18px 18px;
      color:var(--muted);
      font-size:12px;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">
      <header>
        <!-- 1) Suba um arquivo chamado logo-zest.png no mesmo lugar do index.html -->
        <div class="brand">
          <img src="!logo c√©u transparente (recortado).png" alt="Zest">
        </div>

        <h1>üß≥ Checklist de Mala</h1>
        <p class="subtitle">Antes do Embarque ‚Äî marque no celular e acompanhe com facilidade.</p>

        <div class="meta">
          <div class="pill">
            <span>‚úàÔ∏è</span>
            <input id="tripName" placeholder="Nome da viagem (ex.: Miami ‚Ä¢ Mar/2026)" />
          </div>
          <div class="pill">
            <span>üë§</span>
            <input id="traveler" placeholder="Viajante (opcional)" />
          </div>
        </div>
      </header>

      <div class="actions">
        <button id="expandAll" class="ghost">Abrir categorias</button>
        <button id="collapseAll" class="ghost">Fechar categorias</button>
        <button id="clearAll">Desmarcar tudo</button>
      </div>

      <!-- ITENS GERAIS -->
      <details open>
        <summary>
          <div class="secTitle">Itens gerais</div>
          <div class="count" data-count="gerais">0/0</div>
        </summary>
        <div class="items">
          <label><input type="checkbox" data-id="gerais_rg_passaporte"><span class="txt">RG / passaporte <span class="sub">(inclusive o passaporte com visto, se aplic√°vel)</span></span></label>
          <label><input type="checkbox" data-id="gerais_cartoes_credito"><span class="txt">Cart√µes de cr√©dito <span class="sub">com o aviso de viagem j√° feito no banco</span></span></label>
          <label><input type="checkbox" data-id="gerais_cartao_prepago"><span class="txt">Cart√£o pr√©-pago</span></label>
          <label><input type="checkbox" data-id="gerais_chip"><span class="txt">Chip internacional</span></label>
          <label><input type="checkbox" data-id="gerais_cadeados"><span class="txt">Cadeados</span></label>
          <label><input type="checkbox" data-id="gerais_sacos_plasticos"><span class="txt">Saquinhos pl√°sticos</span></label>
          <label><input type="checkbox" data-id="gerais_porta_roupa_suja"><span class="txt">Porta-roupa suja</span></label>
          <label><input type="checkbox" data-id="gerais_rastreador"><span class="txt">Rastreador de bagagem</span></label>
        </div>
      </details>

      <!-- MALA DE M√ÉO -->
      <details>
        <summary>
          <div class="secTitle">Mala de m√£o</div>
          <div class="count" data-count="mao">0/0</div>
        </summary>
        <div class="items">
          <label><input type="checkbox" data-id="mao_escova"><span class="txt">Escova de dente</span></label>
          <label><input type="checkbox" data-id="mao_pasta"><span class="txt">Pasta de dente</span></label>
          <label><input type="checkbox" data-id="mao_desodorante"><span class="txt">Desodorante roll-on/em barra</span></label>
          <label><input type="checkbox" data-id="mao_powerbank"><span class="txt">Powerbank <span class="sub">(Importante: n√£o pode despachar!)</span></span></label>
          <label><input type="checkbox" data-id="mao_labial"><span class="txt">Hidratante labial</span></label>
          <label><input type="checkbox" data-id="mao_protetor_solar"><span class="txt">Protetor solar <span class="sub">(menos de 100 ml)</span></span></label>
          <label><input type="checkbox" data-id="mao_almofada"><span class="txt">Almofada de pesco√ßo</span></label>
          <label><input type="checkbox" data-id="mao_garrafa"><span class="txt">Garrafa d‚Äô√°gua</span></label>
          <label><input type="checkbox" data-id="mao_casaco"><span class="txt">Casaco</span></label>

          <label><input type="checkbox" data-id="mao_remedios"><span class="txt">Rem√©dios de uso livre <span class="sub">(cefaleia, enjoo, gases, diarreia, antiss√©ptico, curativo, antigripal)</span></span></label>
          <label><input type="checkbox" data-id="mao_controlados"><span class="txt">Rem√©dios controlados <span class="sub">(dentro da caixa e junto com a receita m√©dica)</span></span></label>
          <label><input type="checkbox" data-id="mao_alcool"><span class="txt">√Ålcool gel</span></label>

          <label><input type="checkbox" data-id="mao_carregador"><span class="txt">Cabos e carregadores (celular, Kindle, smart watch)</span></label>
          <label><input type="checkbox" data-id="mao_adaptador"><span class="txt">Adaptador de tomada</span></label>
          <label><input type="checkbox" data-id="mao_fone"><span class="txt">Fone de ouvido</span></label>
          <label><input type="checkbox" data-id="mao_kindle"><span class="txt">Livro/Kindle</span></label>

          <label><input type="checkbox" data-id="mao_bijus"><span class="txt">Joias e bijuterias</span></label>
          <label><input type="checkbox" data-id="mao_make"><span class="txt">Maquiagem</span></label>
          <label><input type="checkbox" data-id="mao_grampo"><span class="txt">El√°sticos/presilhas de cabelo</span></label>
          <label><input type="checkbox" data-id="mao_oculos_grau"><span class="txt">√ìculos de grau</span></label>
          <label><input type="checkbox" data-id="mao_lentes_contato"><span class="txt">Lentes de contato</span></label>
          <label><input type="checkbox" data-id="mao_oculos_sol"><span class="txt">√ìculos escuros</span></label>
          <label><input type="checkbox" data-id="mao_caneta"><span class="txt">Caneta</span></label>
          <label><input type="checkbox" data-id="mao_mascara"><span class="txt">M√°scara de dormir</span></label>
          <label><input type="checkbox" data-id="mao_auricular"><span class="txt">Protetor auricular</span></label>
          <label><input type="checkbox" data-id="mao_lencinhos"><span class="txt">Lencinhos umedecidos</span></label>
          <label><input type="checkbox" data-id="mao_guarda"><span class="txt">Guarda-chuva</span></label>
        </div>
      </details>

      <!-- NECESSAIRES -->
      <details>
        <summary>
          <div class="secTitle">Necessaires (dentro da mala)</div>
          <div class="count" data-count="nec">0/0</div>
        </summary>
        <div class="items">
          <label><input type="checkbox" data-id="nec_kit_manicure"><span class="txt">Lixa de unha</span></label>
          <label><input type="checkbox" data-id="nec_pinca"><span class="txt">Pin√ßa</span></label>

          <label><input type="checkbox" data-id="nec_touca"><span class="txt">Touca</span></label>
          <label><input type="checkbox" data-id="nec_esponja"><span class="txt">Esponja</span></label>
          <label><input type="checkbox" data-id="nec_sabonete"><span class="txt">Sabonete</span></label>
          <label><input type="checkbox" data-id="nec_skincare"><span class="txt">Produtos de skincare</span></label>
          <label><input type="checkbox" data-id="nec_corporal"><span class="txt">Hidratante corporal</span></label>
          <label><input type="checkbox" data-id="nec_desodorante"><span class="txt">Desodorante</span></label>
          <label><input type="checkbox" data-id="nec_solar"><span class="txt">Protetor solar</span></label>

          <label><input type="checkbox" data-id="nec_shampoo"><span class="txt">Shampoo</span></label>
          <label><input type="checkbox" data-id="nec_condicionador"><span class="txt">Condicionador</span></label>
          <label><input type="checkbox" data-id="nec_leavein"><span class="txt">Leave-in</span></label>
          <label><input type="checkbox" data-id="nec_demaq"><span class="txt">Demaquilante</span></label>
          <label><input type="checkbox" data-id="nec_algodao"><span class="txt">Disco de algod√£o</span></label>
          <label><input type="checkbox" data-id="nec_cotonete"><span class="txt">Cotonete</span></label>

          </label>
        </div>
      </details>

      <!-- ROUPAS -->
      <details>
        <summary>
          <div class="secTitle">Roupas</div>
          <div class="count" data-count="r">0/0</div>
        </summary>
        <div class="items">
          <label><input type="checkbox" data-id="r_baixo"><span class="txt">Roupas de baixo <span class="sub">(calcinha, cueca, suti√£)</span></span></label>
          <label><input type="checkbox" data-id="r_meias"><span class="txt">Meias</span></label>
          <label><input type="checkbox" data-id="r_camisola"><span class="txt">Roupa de dormir</span></label>

          <label><input type="checkbox" data-id="r_calca"><span class="txt">Cal√ßa</span></label>
          <label><input type="checkbox" data-id="r_saia"><span class="txt">Saia/bermuda</span></label>
          <label><input type="checkbox" data-id="r_meia_calca"><span class="txt">Meia-cal√ßa</span></label>
          <label><input type="checkbox" data-id="r_vestido"><span class="txt">Vestido</span></label>
          <label><input type="checkbox" data-id="r_camiseta_calor"><span class="txt">Camiseta / blusa de calor</span></label>
          <label><input type="checkbox" data-id="r_blusa_frio"><span class="txt">Blusa de frio</span></label>

          <label><input type="checkbox" data-id="r_banho"><span class="txt">Roupas de banho <span class="sub">(biqu√≠ni, mai√¥, sunga)</span></span></label>
          <label><input type="checkbox" data-id="r_saida_praia"><span class="txt">Sa√≠da de praia</span></label>

          <label><input type="checkbox" data-id="r_top"><span class="txt">Top de academia</span></label>
          <label><input type="checkbox" data-id="r_calca_academia"><span class="txt">Cal√ßa de academia</span></label>
          <label><input type="checkbox" data-id="r_blusa_academia"><span class="txt">Blusa de academia</span></label>

          <label><input type="checkbox" data-id="r_calcados"><span class="txt">Sapato / bota / sand√°lia / t√™nis</span></label>
          <label><input type="checkbox" data-id="r_chinelo"><span class="txt">Chinelo</span></label>
          <label><input type="checkbox" data-id="r_bolsa"><span class="txt">Bolsa</span></label>

          <label><input type="checkbox" data-id="r_casaco"><span class="txt">Casaco</span></label>
          <label><input type="checkbox" data-id="r_luva"><span class="txt">Luva</span></label>
          <label><input type="checkbox" data-id="r_touca"><span class="txt">Touca</span></label>
          <label><input type="checkbox" data-id="r_cachecol"><span class="txt">Len√ßo / cachecol</span></label>
        </div>
      </details>

      <!-- ANOTA√á√ïES (TEXTO + CHECKLIST) -->
      <div class="notesWrap">
        <div class="notesTitle">üìù Anota√ß√µes</div>
        <textarea id="notesText" placeholder="Escreva aqui observa√ß√µes, itens para comprar, ideias de looks, etc."></textarea>

        <div style="height:14px;"></div>

        <details open style="padding:0;border:0;">
          <summary style="padding:0 0 12px 0;">
            <div class="secTitle">‚úÖ Checklist de anota√ß√µes</div>
            <div class="count" data-count="note">0/0</div>
          </summary>
          <div class="items" style="padding:0;">
            <label><input type="checkbox" data-id="note_comprar"><span class="txt">Comprar itens que faltam</span></label>
            <label><input type="checkbox" data-id="note_lavar"><span class="txt">Separar / lavar pe√ßas antes da viagem</span></label>
            <label><input type="checkbox" data-id="note_trocar_moeda"><span class="txt">Trocar moeda / organizar cart√µes</span></label>
            <label><input type="checkbox" data-id="note_farmacia"><span class="txt">Organizar rem√©dios / farmacinha</span></label>
            <label><input type="checkbox" data-id="note_roupas"><span class="txt">Montar combina√ß√µes / looks</span></label>
            <label><input type="checkbox" data-id="note_documentos"><span class="txt">Conferir documentos</span></label>
          </div>
        </details>
      </div>

      <footer>
        As marca√ß√µes e anota√ß√µes ficam salvas neste celular/navegador. ‚ú®<br>
      </footer>
    </div>
  </div>

  <script>
    // 1) Chave por p√°gina (evita misturar com vers√µes antigas/arquivos diferentes)
    const pageKey = "zest__" + (location.pathname.split("/").pop() || "index") + "__v2__";

    // 2) Topo (nome da viagem / viajante)
    const tripName = document.getElementById("tripName");
    const traveler = document.getElementById("traveler");
    tripName.value = localStorage.getItem(pageKey + "tripName") || "";
    traveler.value = localStorage.getItem(pageKey + "traveler") || "";
    tripName.addEventListener("input", () => localStorage.setItem(pageKey + "tripName", tripName.value));
    traveler.addEventListener("input", () => localStorage.setItem(pageKey + "traveler", traveler.value));

    // 3) Anota√ß√µes (texto)
    const notesText = document.getElementById("notesText");
    notesText.value = localStorage.getItem(pageKey + "notesText") || "";
    notesText.addEventListener("input", () => localStorage.setItem(pageKey + "notesText", notesText.value));

    // 4) Checkboxes com mem√≥ria + ‚Äúriscar‚Äù quando marcado
    const boxes = Array.from(document.querySelectorAll('input[type="checkbox"][data-id]'));

    function syncStrike(box){
      const lab = box.closest("label");
      if(!lab) return;
      lab.classList.toggle("checked", box.checked);
    }

    boxes.forEach(box => {
      const key = pageKey + box.dataset.id;
      box.checked = localStorage.getItem(key) === "true";
      syncStrike(box);

      box.addEventListener("change", () => {
        localStorage.setItem(key, box.checked);
        syncStrike(box);
        updateCounts();
      });
    });

    // 5) Contadores (por prefixo do data-count)
    function updateCounts(){
      document.querySelectorAll("[data-count]").forEach(el=>{
        const prefix = el.getAttribute("data-count");
        const groupBoxes = boxes.filter(b => (b.dataset.id || "").startsWith(prefix));
        const done = groupBoxes.filter(b => b.checked).length;
        el.textContent = `${done}/${groupBoxes.length}`;
      });
    }
    updateCounts();

    // 6) Abrir / fechar tudo
    const allDetails = Array.from(document.querySelectorAll("details"));
    document.getElementById("expandAll").addEventListener("click", () => allDetails.forEach(d => d.open = true));
    document.getElementById("collapseAll").addEventListener("click", () => allDetails.forEach(d => d.open = false));

    // 7) Limpar esta viagem (zera s√≥ ESTA p√°gina, neste celular)
    document.getElementById("clearAll").addEventListener("click", () => {
      if(!confirm("Limpar marca√ß√µes e anota√ß√µes desta viagem?")) return;

      // limpa caixas
      boxes.forEach(box=>{
        localStorage.removeItem(pageKey + box.dataset.id);
        box.checked = false;
        syncStrike(box);
      });

      // limpa campos
      localStorage.removeItem(pageKey + "tripName");
      localStorage.removeItem(pageKey + "traveler");
      localStorage.removeItem(pageKey + "notesText");
      tripName.value = "";
      traveler.value = "";
      notesText.value = "";

      updateCounts();
    });
  </script>
</body>
</html>
